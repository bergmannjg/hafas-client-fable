#!/bin/bash

if [ $# -ne 1 ]
then
    echo "usage: profile"
    exit 1
fi

PROFILE=$1

echo "// products of ${PROFILE} network, generated by a tool"
echo "export interface Products${PROFILE} extends Products {"
for file in $(ls ./out/xx00${PROFILE}*-x.json); do 
    jq '.[].products' $file
done | sed -n 's/.*"\(.*\)":.*/\1/p' | sort | uniq | sed 's/\(.*\)/    "\1"\: boolean,/'
echo "}"